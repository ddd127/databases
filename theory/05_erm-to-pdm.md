## 5. Преобразование модели сущность-связь в физическую модель


### Постепенное преобразование

Краткая схема постепенного преобразования, 
Подробности будут в прямом преобразовании

- Многие-ко-многим -> Ассоциации 

    Виды концов меняются, если по Мерис


- Ассоциации -> Сущности

    - Атрибуты -> Атрибуты
    - Концы -> Связи

       К-одному -> идентифицирующие
       Ко-многим -> простые


- Сущности -> Таблицы

    - Простые атрибуты -> столбцы
    - Составные атрибуты -> набор столбцов
    - Домены -> типы
    - Ключи -> ключи
    - Идентифицирующие связи -> столбцы + ключи


- Связи -> Дополнительные атрибуты

    - Многие-к-одному -> доп со стороны "много"
    - Один-к-одному -> доп со стороны "обязательного"



### Прямое преобразование

Порядок преобразования:
1. Сущности
2. Слабые сущности
3. Отношения
4. Ассоциации


- Сущности -> Таблицы

    - Простые атрибуты -> столбцы
    - Составные атрибуты -> набор столбцов
    - Домены -> типы
    - Ключи -> ключи
    - Идентифицирующие связи -> столбцы + ключи


- Слабые сущности -> Таблицы

    - Идентифицирующие атрибуты -> ключевые столбцы
    - Простые атрибуты -> столбцы
    - Составные атрибуты -> набор столбцов
    - Домены -> типы


- Один-к-одному обязательные -> Доп поля

    - Доп поля с обязательной стороны
    - Идентификатор другой стороны -> ключ + внешний ключ
    - Нагрузка -> доп поля


- Один-к-одному не обязательные -> Таблицы

    - Идентификаторы сторон -> ключи + внешние ключи
    - Один из идентификаторов -> первичный ключ
    - Нагрузка -> доп поля таблицы


- Один-ко-многим обязательные со стороны "один" -> Доп поля

    - Доп поля со стороны "много"
    - Идентификатор другой стороны -> внешний ключ (но НЕ обычный)
    - Нагрузка -> доп поля


- Один-ко-многим не обязательные со стороны "один" -> Таблицы

    - Идентификатор стороны "один" -> внешний ключ
    - Идентификатор стороны "много" -> первичный ключ + внешний
    - Нагрузка -> доп поля


- Один-ко-многим обязательные со стороны "много" -> Доп поля

    - Ссылка с внешним ключом со стороны "много"
    - Обратная ссылка с составным внешним ключом со стороны "один"
    - Нагрузка -> доп поля со стороны "много"


- Многие-ко-многим -> Таблица

    - Идентификаторы сторон -> внешние ключи
    - Пара идентификаторов -> первичный ключ
    - Если сторона обязательная -> обратный составной внешний ключ
    - Нагрузка -> доп поля


- Ассоциации -> Таблица

    Единственная операция, требующая включить мозг 
    и подумать про нотацию - Чен или Мерис - и какие концы
    в заивисмости от этого реально "один" и "много"

    - Ключи связанных -> внешние ключи
    - Идентификаторы со сторон "один" -> первичный ключ
    - Нагрузка -> доп поля
