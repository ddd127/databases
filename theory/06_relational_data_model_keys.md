# 6. Реляционная модель данных. Ключи
Основное понятие - *Отношение*

**Отношение:** 
* Имя, 
* Заголовок: описание данных, множество пар `{имя: тип}`
* Тело отношения: данные, множество пар `{имя: значение}`

**Пример:** 
>{id: int, name: string}
>{{id: 10, name: Иванов},
>{id: 20}}

Связь с математикой: 
Отношение это подмножество декартового произведения для типов этого отношения
R = ({a1 : T1, a2 : T2},
{{a1 : v1, a2 : v2}, ...})

 Отношения и таблицы:
 В теории отношения моделируют таблицы, но
* Столбцы – список, Атрибуты – множество
* Строки – элемент расширенного декартова произведения(могут быть неопределенные вещи), Кортежи – элемент декартова произведения
* Таблица – список строк, Отношение – множество кортежей (порядка нет, повторений нет)

*Идея делать таблицы, которые не являются отношениями - плохая практика*

**Надключ:**
Множество атрибутов 
* В отношении нет кортежей с одинаковыми значениями атрибутов
* В проекции на надключ нет повторяющихся кортежей

! Надключ является идентификатором кортежа.   
! У всех отношений существует надключ (потому что множество всех атрибутов – надключ).   

**Ключ:**
Минимальный по включению надключ

! Ключ является минимальным идентификатором кортежа.  
! У всех отношений существует ключ (можно минимизировать полный надключ).  
! Но не обязаиельно ключ минимален по числу атрибутов ({SId} и {PassS, PassNo}). 

**СУБД:**
Большинство СУБД умеют проверять ограничения на ключи

Хотим Уникальность и Неизменность от ключей

Натуральные ключи – соответствуют бизнес-правилам, часто составные.   
Суррогатные ключи – простые и эффективные - ок, что у ассоциаций итп нет суррогатного ключа





 


