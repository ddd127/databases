# 7. Функциональные зависимости: замыкание, эквивалентность и правила вывода

**Функциональная зависимость (ФЗ):**    
*Обозначение:* X→Y
* Каждому X соответствует ровно один Y
* X  и Y – множества атрибутов

Логично, что все атрибуты функционально зависят от (над)ключа

*Тривиальные ФЗ:* правая часть – подмножество левой части, т.е. выполняются всегда и не несут информации

**ФЗ и ограничения:** функциональные зависимости задают ограничения для БД
* Многие СУБД не поддерживают произвольные ФЗ
* Большинство СУБД поддерживают ключи
* Больше ограничений ⇒ меньше производительность

Следовательно **задачи:**
* Минимизировать число проверяемых ФЗ
* Преобразовать ФЗ в ограничения ключей

**Правила вывода:**
*Правила Армстронга* (задают простейшие правила вывода, позволяют построить замыкание):
* Правило рефлексивности: X⊂Y ⇒ Y→X
* Правило дополнения: X→Y ⇒ XZ→YZ
* Правило транзитивности: X→Y,Y→Z ⇒ X→Z

*Дополнительные правила* (позволяют минимизировать проверяемые ФЗ):
* Правило самоопределения: X→X
* Правила расщепления и объединения: X→YZ ⇔ X→Y, X→Z
* Правило композиции: X→Y, Z→D ⇒ XZ→YD

**Замыкание множества ФЗ:**  
Множество всех ФЗ, которые следуют из S  
*Обозначение:* S+  

*Пример:*  
S={CId→Lecturer, Lecturer→Phone}  
S+={CId→Lecturer, Lecturer→Phone, CId→Phone, CId  Lecturer→Phone, 19 тривиальных ФЗ}

**Эквивалентные множества ФЗ:**  
Введем понятие *S  слабее P* (P накрывает S):   
S ⊏ P ⇔ S+ ⊂ P+  
Тогда *S  эквивалентно P*:   
S≡P ⇔ S⊏P ∧ P⊏S ⇔ P+=S+  



 


