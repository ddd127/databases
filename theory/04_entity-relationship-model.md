## 4. Модель сущность-связь

### Элементы модели

**Сущность**

- **Имя**


- **Домен**

    Описывает тип атрибута - что именно в нем хранится. 
    Тип может быть простым и составным (name или address)


- **Свойства**
    Обязательность, Основной ключ, Дополнительный ключ n


**Связь**

- **Имя**


- **Связываемые сущности и их роли**

    Роли - это пояснение для пользователя. 
    Они нужны потому, что между двумя таблицами 
    может быть несколько связей.


- **Тип связи**

    На концах связи указывается множественность и обязательность.

    - один-к-одному
    - один-ко-многим
    - многие-ко-многим



**Ассоциация**

Нельзя сделать связь с ассоциацией (= нельзя на нее сослаться)

Графическую нотацию можно интерпретировать по Чену или по Мерис.

По Чену - зафиксировали все остальные сущности ассоциации, 
сделали вывод про оставшуюся.

По Мерис - ограничение конкретно на рассматриваемую сущность.

Если ассоциация имеет более трех концов, то все совсем сложно.

Для двух концов Чен, Мерис и Обобщенная нотация эквивалентны, 
для трех - Чен и Мерис вместе эквивалентны Обобщенной, 
для четырех - Чен и Мерис - подмножество Обобщенной.

- **"Обоощенная связь"** - нагруженная, многосторонняя


- **Может связывать произвольное количество сущностей**


- **Многосторонняя**


- **Правила**

    - Простая и ненагруженная? => Связь
    - Можно сослаться? => Сущность
    - Иначе => Ассоциация



**Слабая сущность**

Недостаточно атрибутов для идентификации, 
есть идентифицирующие связи, приносящие доп атрибуты.

Рекомендуется иметь идентифицирующую связь "X к обязательному одному",
чтобы не иметь дела с нулами.

- **"Обоощенная связь"** - нагруженная, многосторонняя


- **Может связывать произвольное количество сущностей**


- **Многосторонняя**


- **Правила**

    - Простая и ненагруженная? => Связь
    - Можно сослаться? => Сущность
    - Иначе => Ассоциация



### Альтернативные нотации

- **Нотация Чена**

    По сути +- то же самое, но гораздо более громоздко

- **UML-нотация**

    Чуть больше возможностей (например, указать множественность как 3..4), 
    но в термины базы данных это ложится плохо.

- **Object Definition Language**

    Молодежно, но связь приходится описывать с двух концов.
